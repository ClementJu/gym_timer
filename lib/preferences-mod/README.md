Adapted from the "preferences" package: https://pub.dev/packages/preferences
